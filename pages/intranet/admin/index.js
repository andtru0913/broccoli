import Head from 'next/head'
import styles from '../../../styles/Home.module.css'
import * as Database from "../../../Database";

export async function getServerSideProps(context) {
    let cookies = await context.req.cookies['userid']
    console.log(cookies)
    let user = await Database.getUserinfo(cookies)
    return {
        props: {user: user}
    }
}

export default function Home({user}) {
    return (
        <div className={styles.container}>
            <Head>
                <title>Admin</title>
                <meta name="description" content="Generated by create next app" />
                <link rel="icon" href="/public/favicon.ico" />
            </Head>

            <main className={styles.main}>
                <div>
                    <h1>
                        Welcome {user.firstname} to admin
                    </h1>
                </div>

            </main>
        </div>
    )
}
